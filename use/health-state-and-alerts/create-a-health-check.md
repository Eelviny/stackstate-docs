---
description: 
---

# Add a health check

{% hint style="warning" %}
**QUESTIONS:**
- do health checks always need to be manually added or is there a default added when a component/relation is created?
- are health checks added with stackpacks?
- if windowing method is set to sliding, does a check run continuously as long as data is arriving?
{% endhint %}

## Overview

Health checks use check functions to report the status of components and relations in StackState. Any component/relation in a StackState topology view with a telemetry stream can have a health check assigned. The events generated by health checks can be used to [trigger alerts and actions](/use/health-state-and-alerts/add-an-alert.md).

## Assign a health check to a component or relation

You can assign a health check to a component or relation in the StackState Topology Perspective.

{% hint style="info" %}
Health checks require telemetry streams.
{% endhint %}

![Add a health check to a component or relation](/.gitbook/assets/v41_add_health_check.png)

1. Select the component or relation that you want to assign a health check to.
    - If no telemetry stream is available on the selected component/relation, you will need to [add a telemetry stream](/use/health-state-and-alerts/add-telemetry-to-component.md).
3. Click **+ ADD** next to **Health** on the right of the screen. 
    - An **Add check** dialog box appears.
4. Provide the following details:
    - **Name** - The health check name. Will be displayed in the StackState UI **Health** pane.
    - **Description** - Optional, can be used to explain the check in greater detail.
    - **Remediation hint** - Optional, will be automatically displayed on the component or relation when this check goes to a non clear state, for example `critical` or `deviating`.
    - **Check function** - The check function to use to monitor the component/relation's telemetry stream(s). See [Check functions](#check-functions) below.
5. Provide the required check function arguments, these will vary according to the check function selected, but will include:
    - At least one telemetry stream. Some checks will require multiple streams. 
    - For metrics check functions, a [windowing method](#windowing-method) and window size.
9. Click **CREATE** to create the health check. 
    - The check is now active and visible under the **Health** section on the right side of the screen. 
    - The check will remain gray until enough telemetry data has been received to determine a health state.

## Check functions

Each health check uses a check function to monitor the telemetry stream attached to the component/relation. 

Check functions are scripts that take streaming telemetry as an input, check the data based on its logic and on the supplied arguments and output a health state. The telemetry changes a check function responds to determine the way in which the health check reports component/relation health state, for example by monitoring a metric stream for thresholds and spikes, or checking the generated events. 
A number of check functions are included out of the box with StackState, or you could [create your own](/configure/telemetry/checks_and_streams.md#check-functions).

Details of the available check functions check the StackState UI **Settings** > **Check functions**.

## Windowing method

For metrics check functions, a windowing method and window size must be provided. This determines how often the check function will run based on the incoming metrics. There are two possible windowing methods:

- **Batching** - Groups metric data in strictly separate windows of the configured window time, with consistent start and end times. For example, with window size set to 60 seconds, a batching check will run every minute with metrics from the previous minute.
- **Sliding** - Groups metric data in overlapping windows of at most the configured max-window time. For example, with window size set to 60 seconds, a sliding check will run whenever the data flows in after 60 seconds of metrics have been collected.

## See also

- [Check functions](/configure/telemetry/checks_and_streams.md#check-functions)
- [Add a telemetry stream to a component](/use/health-state-and-alerts/add-telemetry-to-component.md)
- [Add an alert](/use/health-state-and-alerts/add-an-alert.md)